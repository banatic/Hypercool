:root{--primary: #6366f1;--primary-hover: #4f46e5;--secondary: #ec4899;--background: #0f172a;--surface: #1e293b;--surface-hover: #334155;--text: #f8fafc;--text-muted: #94a3b8;--border: #334155;--error: #ef4444;--success: #22c55e;--spacing-xs: .25rem;--spacing-sm: .5rem;--spacing-md: 1rem;--spacing-lg: 1.5rem;--spacing-xl: 2rem;--radius-sm: .375rem;--radius-md: .5rem;--radius-lg: .75rem;--radius-full: 9999px;--transition-fast: .15s ease;--transition-normal: .3s ease}*{margin:0;padding:0;box-sizing:border-box}html{-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}body{font-family:Inter,system-ui,-apple-system,sans-serif;background-color:var(--background);color:var(--text);line-height:1.5;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;overflow-x:hidden}a{color:inherit;text-decoration:none;-webkit-tap-highlight-color:transparent}button{cursor:pointer;border:none;background:none;font-family:inherit;-webkit-tap-highlight-color:transparent;touch-action:manipulation}input{font-family:inherit;-webkit-tap-highlight-color:transparent}::-webkit-scrollbar{width:8px;height:8px}::-webkit-scrollbar-track{background:var(--background)}::-webkit-scrollbar-thumb{background:var(--surface-hover);border-radius:var(--radius-full)}::-webkit-scrollbar-thumb:hover{background:var(--text-muted)}@media(max-width:768px){body,input,textarea,select{font-size:16px}}.card{background-color:var(--surface);border-radius:var(--radius-lg);border:1px solid var(--border);overflow:hidden}.card-header{padding:var(--spacing-lg);border-bottom:1px solid var(--border)}.card-header h3{font-size:1.125rem;font-weight:600;color:var(--text)}.card-content{padding:var(--spacing-lg)}@media(max-width:768px){.card{border-radius:var(--radius-md)}.card-header{padding:var(--spacing-md)}.card-header h3{font-size:1rem}.card-content{padding:var(--spacing-md)}.card:has(.calendar-container){border-radius:0;border-left:none;border-right:none;margin:0}.card:has(.calendar-container) .card-content{padding:0}}.btn{display:inline-flex;align-items:center;justify-content:center;border-radius:var(--radius-md);font-weight:500;transition:all var(--transition-fast);gap:var(--spacing-sm);min-height:44px;touch-action:manipulation}.btn:disabled{opacity:.5;cursor:not-allowed}.btn-primary{background-color:var(--primary);color:#fff}.btn-primary:hover:not(:disabled){background-color:var(--primary-hover)}.btn-primary:active:not(:disabled){transform:scale(.98)}.btn-secondary{background-color:var(--surface);color:var(--text);border:1px solid var(--border)}.btn-secondary:hover:not(:disabled){background-color:var(--surface-hover)}.btn-secondary:active:not(:disabled){transform:scale(.98)}.btn-outline{background-color:transparent;border:1px solid var(--primary);color:var(--primary)}.btn-outline:hover:not(:disabled){background-color:#6366f11a}.btn-outline:active:not(:disabled){transform:scale(.98)}.btn-ghost{background-color:transparent;color:var(--text-muted)}.btn-ghost:hover:not(:disabled){background-color:var(--surface-hover);color:var(--text)}.btn-ghost:active:not(:disabled){transform:scale(.98)}.btn-sm{padding:.375rem .75rem;font-size:.875rem;min-height:36px}.btn-md{padding:.625rem 1rem;font-size:1rem;min-height:44px}.btn-lg{padding:.875rem 1.5rem;font-size:1.125rem;min-height:52px}.spinner{width:1em;height:1em;border:2px solid currentColor;border-right-color:transparent;border-radius:50%;animation:spin .75s linear infinite}@media(max-width:768px){.btn{min-height:48px;font-size:1rem}.btn-sm{min-height:40px;font-size:.875rem}.btn-lg{min-height:56px;font-size:1.125rem}}.login-page{min-height:100vh;display:flex;align-items:center;justify-content:center;background-color:var(--background);padding:var(--spacing-md)}.login-container{width:100%;max-width:400px;display:flex;flex-direction:column;gap:var(--spacing-xl)}.login-header{text-align:center}.login-header h1{font-size:2.5rem;font-weight:700;color:var(--primary);margin-bottom:var(--spacing-xs)}.login-header p{color:var(--text-muted)}.login-actions{display:flex;flex-direction:column;gap:var(--spacing-lg);align-items:center}.login-btn{width:100%;margin-top:var(--spacing-sm);min-height:48px}.google-btn{background-color:#fff;color:#3c4043;border:1px solid #dadce0;display:flex;align-items:center;justify-content:center;gap:12px}.google-btn:hover:not(:disabled){background-color:#f8f9fa;border-color:#dadce0;box-shadow:0 1px 2px #3c40434d,0 1px 3px 1px #3c404326}.google-icon{width:18px;height:18px}.error-message{color:var(--error);font-size:.875rem;text-align:center}@media(max-width:768px){.login-page{padding:var(--spacing-md)}.login-container{gap:var(--spacing-lg)}.login-header h1{font-size:2rem}.login-header p{font-size:.875rem}}.modal-overlay{position:fixed;inset:0;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);animation:fadeIn .2s ease-out;padding:var(--spacing-md)}.modal-container{background:#fff;border-radius:16px;box-shadow:0 20px 25px -5px #0000001a,0 10px 10px -5px #0000000a;width:90%;max-width:500px;max-height:90vh;display:flex;flex-direction:column;animation:slideUp .3s cubic-bezier(.16,1,.3,1)}.modal-header{display:flex;align-items:center;justify-content:space-between;padding:20px 24px;border-bottom:1px solid #f3f4f6;flex-shrink:0}.modal-title{font-size:1.25rem;font-weight:600;color:#111827;margin:0}.modal-close-btn{background:transparent;border:none;padding:8px;border-radius:50%;color:#6b7280;cursor:pointer;transition:all .2s;display:flex;align-items:center;justify-content:center;min-width:44px;min-height:44px;touch-action:manipulation}.modal-close-btn:hover{background-color:#f3f4f6;color:#1f2937}.modal-close-btn:active{transform:scale(.95)}.modal-content{padding:24px;overflow-y:auto;line-height:1.6;color:#374151;-webkit-overflow-scrolling:touch}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes slideUp{0%{opacity:0;transform:translateY(20px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}@media(max-width:768px){.modal-overlay{padding:0;align-items:flex-end}.modal-container{width:100%;max-width:100%;max-height:95vh;border-radius:16px 16px 0 0;animation:slideUpMobile .3s cubic-bezier(.16,1,.3,1)}.modal-header{padding:16px 20px}.modal-title{font-size:1.125rem}.modal-content{padding:20px;font-size:.875rem}@keyframes slideUpMobile{0%{opacity:0;transform:translateY(100%)}to{opacity:1;transform:translateY(0)}}}.calendar-container{display:flex;flex-direction:column;height:100%;background:#fff;border-radius:16px;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f;overflow:hidden;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif}.calendar-header{display:flex;align-items:center;justify-content:space-between;padding:20px 24px;background:#fff;border-bottom:1px solid #f3f4f6;flex-wrap:wrap;gap:var(--spacing-sm)}.header-left{display:flex;align-items:baseline;gap:8px}.calendar-title{font-size:1.5rem;font-weight:700;color:#111827;margin:0}.calendar-title .year{font-weight:400;color:#6b7280;margin-left:8px;font-size:1.25rem}.calendar-nav{display:flex;align-items:center;gap:8px}.nav-btn,.today-btn{display:flex;align-items:center;justify-content:center;padding:8px 12px;border:1px solid #e5e7eb;background:#fff;border-radius:8px;cursor:pointer;color:#374151;transition:all .2s ease;min-width:44px;min-height:44px;touch-action:manipulation}.nav-btn{padding:8px}.today-btn{font-weight:600;font-size:.875rem}.nav-btn:hover,.today-btn:hover{background:#f9fafb;border-color:#d1d5db;color:#111827}.nav-btn:active,.today-btn:active{transform:scale(.98)}.calendar-weekdays{display:grid;grid-template-columns:repeat(7,minmax(0,1fr));border-bottom:1px solid #e5e7eb;background:#f9fafb}.weekday{padding:12px;text-align:center;font-size:.75rem;font-weight:600;color:#6b7280;text-transform:uppercase;letter-spacing:.05em;min-width:0;overflow:hidden}.weekday.sunday{color:#ef4444}.weekday.saturday{color:#3b82f6}.calendar-grid{display:grid;grid-template-columns:repeat(7,minmax(0,1fr));flex:1;overflow-y:auto;background:#e5e7eb;gap:1px;-webkit-overflow-scrolling:touch}.calendar-day{background:#fff;min-height:120px;padding:6px;display:flex;flex-direction:column;gap:4px;transition:background-color .2s;width:100%;box-sizing:border-box;min-width:0}.calendar-day:hover{background:#fafafa}.calendar-day.other-month{background:#f9fafb;color:#d1d5db}.calendar-day.today{background:#eff6ff}.day-header{display:flex;justify-content:center;margin-bottom:4px}.day-number{font-size:.875rem;font-weight:500;color:#374151;width:24px;height:24px;display:flex;align-items:center;justify-content:center;border-radius:50%}.calendar-day.today .day-number{background:#2563eb;color:#fff;font-weight:700}.day-number.sunday:not(.today .day-number){color:#ef4444}.day-number.saturday:not(.today .day-number){color:#3b82f6}.day-content{display:flex;flex-direction:column;gap:2px;flex:1;overflow-y:auto;padding-right:2px}.day-content::-webkit-scrollbar{width:4px}.day-content::-webkit-scrollbar-track{background:transparent}.day-content::-webkit-scrollbar-thumb{background:#ffffff80;border-radius:4px}.day-content::-webkit-scrollbar-thumb:hover{background:#fffc}.calendar-schedule{font-size:.75rem;padding:2px 6px;border-radius:3px;white-space:nowrap;overflow:hidden;cursor:pointer;margin-bottom:2px;height:22px;display:flex;align-items:center;transition:all .2s;font-weight:500}.calendar-schedule.period{background:#dcfce7;color:#166534;border-left:2px solid #22c55e}.calendar-schedule.period:hover{background:#bbf7d0;transform:translateY(-1px)}.calendar-schedule.single{background:#dbeafe;color:#1e40af;border-left:2px solid #3b82f6}.calendar-schedule.single:hover{background:#bfdbfe;transform:translateY(-1px)}.calendar-schedule.start{border-top-right-radius:0;border-bottom-right-radius:0;margin-right:-6px;padding-right:0;z-index:1}.calendar-schedule.end{border-top-left-radius:0;border-bottom-left-radius:0;margin-left:-6px;padding-left:8px;z-index:1}.calendar-schedule.middle{border-radius:0;margin-left:-6px;margin-right:-6px;z-index:0;border-left:none}.calendar-schedule.start.end{border-radius:3px;margin:0;padding:2px 6px}.calendar-schedule.period.start.end{border-left:2px solid #22c55e}.calendar-schedule.single.start.end{border-left:2px solid #3b82f6}.calendar-todo{font-size:.75rem;padding:3px 6px;display:flex;align-items:center;gap:6px;cursor:pointer;border-radius:4px;color:#9a3412;background:#fff7ed;border:1px solid transparent;transition:all .2s;margin-top:1px}.calendar-todo:hover{background:#ffedd5;border-color:#fdba74;transform:translateY(-1px)}.todo-dot{width:6px;height:6px;background:#f97316;border-radius:50%;flex-shrink:0;box-shadow:0 0 0 1px #f9731633}.todo-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:500}.loading-state{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;gap:16px;color:#6b7280}.loading-spinner{width:32px;height:32px;border:3px solid #e5e7eb;border-top-color:#3b82f6;border-radius:50%;animation:spin 1s linear infinite}@keyframes spin{to{transform:rotate(360deg)}}.event-detail-content{display:flex;flex-direction:column;gap:16px}.event-time-info{display:flex;align-items:center;gap:8px;color:#6b7280;font-size:.875rem;background:#f9fafb;padding:8px 12px;border-radius:8px}.event-body{font-size:1rem;color:#1f2937;line-height:1.6;overflow-wrap:break-word;word-break:break-word}.event-body img{max-width:100%;height:auto;border-radius:8px;margin:8px 0}.event-body p{margin-bottom:.5em}.event-body ul,.event-body ol{padding-left:1.5em;margin-bottom:.5em}@media(max-width:768px){.calendar-container{border-radius:0;box-shadow:none;height:calc(100vh - 50px);min-height:calc(100vh - 50px)}.calendar-header{padding:8px 12px;gap:4px}.calendar-title{font-size:1.125rem}.calendar-title .year{font-size:.875rem;margin-left:4px}.header-left,.calendar-nav{gap:4px}.nav-btn,.today-btn{padding:4px 8px;min-width:36px;min-height:36px;font-size:.7rem}.nav-btn{padding:4px}.today-btn{padding:4px 6px}.weekday{padding:6px 2px;font-size:.6rem}.calendar-grid{gap:.5px}.calendar-day{min-height:calc((100vh - 140px) / 6);padding:2px;gap:1px}.day-header{margin-bottom:2px}.day-number{font-size:.7rem;width:18px;height:18px}.day-content{gap:1px}.calendar-schedule{font-size:.55rem;padding:1px 3px;height:16px;margin-bottom:1px}.calendar-todo{font-size:.55rem;padding:1px 3px;gap:3px;margin-top:0}.todo-dot{width:3px;height:3px}.event-detail-content{gap:10px}.event-time-info{font-size:.7rem;padding:6px 8px}.event-body{font-size:.8rem;line-height:1.4}}.message-viewer-container{width:100%;max-width:900px;margin:0 auto;height:calc(100vh - 250px);min-height:500px;display:flex;flex-direction:column}.message-card-wrapper{display:flex;align-items:stretch;gap:var(--spacing-md);position:relative;flex:1;min-height:0}.message-card{flex:1;background:#fff;border-radius:var(--radius-lg);box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f;height:100%;max-height:100%;display:flex;flex-direction:column;overflow:hidden}.message-card-header{display:flex;justify-content:space-between;align-items:center;padding:var(--spacing-lg);border-bottom:1px solid #e5e7eb;background:#f9fafb;flex-wrap:wrap;gap:var(--spacing-sm)}.message-sender{font-weight:600;color:#111827;font-size:1rem}.message-date{color:#6b7280;font-size:.875rem}.message-card-content{flex:1;padding:var(--spacing-xl);overflow-y:auto;overflow-x:hidden;background:#fff;min-height:0}.message-card-content::-webkit-scrollbar{width:8px}.message-card-content::-webkit-scrollbar-track{background:#f1f1f1;border-radius:4px}.message-card-content::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:4px}.message-card-content::-webkit-scrollbar-thumb:hover{background:#a8a8a8}.message-content{color:#111827;line-height:1.8;word-wrap:break-word;overflow-wrap:break-word;word-break:break-word;max-width:100%;box-sizing:border-box}.message-content *{max-width:100%!important;box-sizing:border-box}.message-content img{max-width:100%!important;height:auto!important;display:block}.message-content table{width:100%!important;max-width:100%!important;table-layout:fixed;word-wrap:break-word}.message-content pre,.message-content code{white-space:pre-wrap;word-wrap:break-word;overflow-wrap:break-word;max-width:100%}.message-content iframe,.message-content video,.message-content embed,.message-content object{max-width:100%!important;height:auto!important}.message-card-footer{padding:var(--spacing-md) var(--spacing-lg);border-top:1px solid #e5e7eb;background:#f9fafb;display:flex;justify-content:center}.message-counter{color:#6b7280;font-size:.875rem;font-weight:500}.nav-button{width:48px;height:48px;border-radius:50%;border:none;background:#fff;color:#111827;cursor:pointer;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 4px #0000001a;transition:all .2s;flex-shrink:0;min-width:44px;min-height:44px}.nav-button:hover:not(:disabled){background:#f3f4f6;box-shadow:0 4px 6px #00000026;transform:scale(1.05)}.nav-button:active:not(:disabled){transform:scale(.95)}.nav-button:disabled{opacity:.4;cursor:not-allowed}.loading-more-indicator{text-align:center;padding:var(--spacing-md);color:var(--text-muted);font-size:.875rem;margin-top:var(--spacing-md)}.loading-state,.empty-state{padding:var(--spacing-xl);text-align:center;color:var(--text-muted);background:#fff;border-radius:var(--radius-lg);box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f}@media(max-width:768px){.message-viewer-container{height:calc(100vh - 180px);min-height:400px;width:100%;max-width:100%;padding:0}.message-card-wrapper{gap:0;padding:0;margin:0}.message-card{border-radius:0;box-shadow:none;margin:0}.message-card-header{padding:var(--spacing-sm) var(--spacing-md);flex-direction:column;align-items:flex-start}.message-sender{font-size:.875rem;word-break:break-word;max-width:100%}.message-date{font-size:.75rem}.message-card-content{padding:var(--spacing-md);overflow-x:hidden;width:100%;max-width:100%;box-sizing:border-box}.message-content{font-size:.875rem;line-height:1.6;width:100%;max-width:100%;overflow-x:hidden;word-break:break-word;overflow-wrap:break-word}.message-content *{max-width:100%!important;overflow-x:hidden}.message-card-footer{padding:var(--spacing-sm) var(--spacing-md)}.nav-button{width:40px;height:40px}.nav-button-left{position:absolute;left:4px;top:50%;transform:translateY(-50%);z-index:10}.nav-button-right{position:absolute;right:4px;top:50%;transform:translateY(-50%);z-index:10}.loading-state,.empty-state{padding:var(--spacing-lg);font-size:.875rem}}.page-container{display:flex;flex-direction:column;gap:var(--spacing-xl)}.page-header h1{font-size:2rem;font-weight:700;color:var(--text);margin-bottom:var(--spacing-xs)}.page-header p{color:var(--text-muted)}@media(max-width:768px){.page-container{gap:var(--spacing-xs);padding:0;margin:0}.page-header{padding:var(--spacing-sm) var(--spacing-md);margin-bottom:var(--spacing-xs)}.page-header h1{font-size:1.25rem;margin-bottom:2px}.page-header p{font-size:.75rem;margin:0}.page-container:has(.calendar-container){gap:0;padding:0}.page-container:has(.calendar-container) .page-header{padding:4px 8px;margin-bottom:0}.page-container:has(.calendar-container) .page-header h1{font-size:1rem;margin-bottom:0}.page-container:has(.calendar-container) .page-header p{display:none}}.todos-container{max-width:1000px;margin:0 auto}.todos-list{display:flex;flex-direction:column;gap:var(--spacing-sm)}.todo-item{display:flex;align-items:flex-start;padding:var(--spacing-lg);background:#fff;border-radius:var(--radius-md);box-shadow:0 1px 3px #0000001a,0 1px 2px #0000000f;transition:all .2s;border-left:4px solid transparent}.todo-item:hover{box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f;transform:translateY(-1px);border-left-color:var(--primary)}.todo-item-content{flex:1;min-width:0}.todo-item-icon{margin-right:var(--spacing-md);margin-top:2px;color:#d1d5db;flex-shrink:0}.todo-item-title{font-size:1rem;font-weight:500;color:#111827;margin-bottom:var(--spacing-xs);word-wrap:break-word}.todo-item-deadline{display:flex;align-items:center;margin-top:var(--spacing-xs);font-size:.875rem;color:#6b7280}.todo-item-deadline-icon{margin-right:var(--spacing-xs);width:14px;height:14px}.loading-state,.empty-state{padding:var(--spacing-xl);text-align:center;color:var(--text-muted);background:#fff;border-radius:var(--radius-md);box-shadow:0 1px 3px #0000001a,0 1px 2px #0000000f}@media(max-width:768px){.todos-container{max-width:100%}.todo-item{padding:var(--spacing-md)}.todo-item-icon{margin-right:var(--spacing-sm)}.todo-item-title{font-size:.875rem}.todo-item-deadline{font-size:.75rem}.loading-state,.empty-state{padding:var(--spacing-lg);font-size:.875rem}}.sidebar{width:70px;height:100vh;background-color:var(--surface);border-right:1px solid var(--border);display:flex;flex-direction:column;position:fixed;left:0;top:0;transition:width var(--transition-fast),transform var(--transition-normal);overflow:hidden;z-index:100}.sidebar:hover{width:250px}.sidebar-header{padding:var(--spacing-xl);border-bottom:1px solid var(--border);display:flex;align-items:center;justify-content:center;min-height:60px;position:relative}.sidebar-header h2{color:var(--primary);font-size:1.5rem;font-weight:700;white-space:nowrap;opacity:0;transition:opacity var(--transition-fast);pointer-events:none}.sidebar:hover .sidebar-header h2{opacity:1;pointer-events:auto}.sidebar:hover .sidebar-header{justify-content:flex-start}.mobile-close-btn{display:none;position:absolute;right:var(--spacing-md);background:transparent;color:var(--text);border:none;padding:var(--spacing-xs);cursor:pointer;border-radius:var(--radius-sm);transition:background-color var(--transition-fast)}.mobile-close-btn:hover{background-color:var(--surface-hover)}.sidebar-nav{flex:1;padding:var(--spacing-lg);display:flex;flex-direction:column;gap:var(--spacing-sm)}.nav-item{display:flex;align-items:center;gap:var(--spacing-md);padding:var(--spacing-md);color:var(--text-muted);border-radius:var(--radius-md);transition:all var(--transition-fast);font-weight:500;white-space:nowrap;min-height:44px}.nav-item span{opacity:0;transition:opacity var(--transition-fast);pointer-events:none}.sidebar:hover .nav-item span{opacity:1;pointer-events:auto}.nav-item:hover{background-color:var(--surface-hover);color:var(--text)}.nav-item.active{background-color:#6366f11a;color:var(--primary)}.sidebar-footer{padding:var(--spacing-lg);border-top:1px solid var(--border)}.logout-btn{width:100%;text-align:left}.logout-btn:hover{color:var(--error);background-color:#ef44441a}@media(max-width:768px){.sidebar{width:280px;transform:translate(-100%);box-shadow:2px 0 8px #00000026}.sidebar.mobile-open{transform:translate(0)}.sidebar:hover{width:280px}.sidebar-header{justify-content:space-between;padding:var(--spacing-md)}.sidebar-header h2{opacity:1;pointer-events:auto;font-size:1.25rem}.mobile-close-btn{display:flex}.nav-item span{opacity:1;pointer-events:auto}.sidebar-nav,.sidebar-footer{padding:var(--spacing-md)}}.layout{display:flex;min-height:100vh}.main-content{flex:1;margin-left:70px;padding:var(--spacing-xl);background-color:var(--background);transition:margin-left var(--transition-fast);position:relative}.sidebar:hover~.main-content{margin-left:250px}.mobile-menu-toggle{display:none;position:fixed;top:var(--spacing-md);left:var(--spacing-md);z-index:101;background-color:var(--surface);color:var(--text);border:1px solid var(--border);border-radius:var(--radius-md);padding:var(--spacing-sm);width:44px;height:44px;align-items:center;justify-content:center;box-shadow:0 2px 8px #00000026}.mobile-menu-overlay{display:none;position:fixed;inset:0;background-color:#00000080;z-index:99;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}@media(max-width:768px){.main-content{margin-left:0;padding:var(--spacing-md);padding-top:calc(var(--spacing-md) + 60px)}.main-content:has(.calendar-container){padding:50px 0 0}.sidebar:hover~.main-content{margin-left:0}.mobile-menu-toggle{display:flex}.mobile-menu-overlay{display:block}}
